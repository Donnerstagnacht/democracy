<ng-container *transloco="let t; scope: 'landing', read: 'landing.contactForm'">
  <form id="contact" class="col s12" [formGroup]="contactForm" (ngSubmit)="onSubmit()">
    <div class="row">
      <div class="col s6">
        <mat-form-field class="full-width" appearance="standard">
          <mat-label>{{t('firstName')}}</mat-label>
          <input matInput formControlName="firstName">
          <mat-icon class="accept-icon" matSuffix *ngIf="!errorHandling('firstName', 'required') && contactForm.value.firstName!==''">done</mat-icon>
          <mat-error *ngIf="errorHandling('firstName', 'required')">{{t('firstNameError')}}</mat-error>
        </mat-form-field>
      </div>

      <div class="col s6">
        <mat-form-field class="full-width" appearance="standard">
          <mat-label>{{t('lastName')}}</mat-label>
          <input matInput formControlName="lastName">
          <mat-icon class="accept-icon" matSuffix *ngIf="!errorHandling('lastName', 'required') && contactForm.value.lastName!==''">done</mat-icon>
          <mat-error *ngIf="errorHandling('lastName', 'required')">{{t('lastNameError')}}</mat-error>
        </mat-form-field>
      </div>
    </div>

    <div class="row">
      <div class="col s12">
        <mat-form-field class="full-width" appearance="standard">
          <mat-label>{{t('email')}}</mat-label>
          <input matInput formControlName="email">
          <mat-icon class="accept-icon" matSuffix *ngIf="!errorHandling('email', 'email') && contactForm.value.email!==''">done</mat-icon>
          <mat-error *ngIf="errorHandling('email', 'email')">{{t('emailError')}}</mat-error>
        </mat-form-field>
      </div>
    </div>

    <div class="row">
      <div class="col s12">
        <mat-form-field class="full-width" appearance="fill">
          <mat-label>{{t('chooseTopic')}}</mat-label>
          <mat-select required formControlName="topic" >
            <mat-option *ngFor="let topicValue of topics$ | async" [value]="topicValue">
              {{topicValue}}
            </mat-option>
          </mat-select>
          <mat-icon *ngIf="!errorHandling('topic', 'required')" class="accept-icon" matSuffix>done</mat-icon>
          <mat-error >{{t('chooseTopicError')}}</mat-error>
        </mat-form-field>
      </div>

      <div class="col s12">
        <mat-form-field class="full-width" appearance="standard">
          <mat-label>{{t('subject')}}</mat-label>
          <input matInput formControlName="subject">
          <mat-icon class="accept-icon" matSuffix *ngIf="!errorHandling('subject', 'required') && contactForm.value.subject!==''">done</mat-icon>
          <mat-error *ngIf="errorHandling('subject', 'required')">{{t('subjectError')}}</mat-error>
        </mat-form-field>
      </div>
    </div>

    <div class="row">
      <div class="col s12">
        <mat-form-field class="full-width" appearance="standard">
          <mat-label>{{t('message')}}</mat-label>
          <textarea  matInput cdkTextareaAutosize formControlName="message"></textarea>
          <mat-icon class="accept-icon" matSuffix *ngIf="!errorHandling('message', 'required') && contactForm.value.message!==''">done</mat-icon>
          <mat-error *ngIf="errorHandling('message', 'required')">{{t('messageError')}}</mat-error>
        </mat-form-field>
      </div>
    </div>

    <div class="center">
      <button
        mat-raised-button
        color="primary"
        id="kontaktButton"
        type="text"
        type="submit"
        [disabled]="!contactForm.valid"
        >{{t('send')}}</button>
    </div>
  </form>
</ng-container>
